<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Bibs-Based Relativity — Dual CPU Experiment</title>
<style>
  body {
    background: #000;
    color: #fff;
    font-family: monospace;
    text-align: center;
    margin-top: 40px;
  }
  .row {
    font-size: 20px;
    letter-spacing: 6px;
  }
  .label {
    display: inline-block;
    width: 220px;
    text-align: right;
    margin-right: 10px;
    color: #999;
  }
  #info { margin-top: 20px; color: #0f0; }
  h2 { color: #0ff; }
</style>
</head>
<body>

<h2>🔀 Bibs-Based Relativity — Dual CPU Visualization</h2>

<div class="row"><span class="label">Absolute Time (CPU A):</span><span id="abs"></span></div>
<div class="row"><span class="label">Light Process (CPU B):</span><span id="light"></span></div>
<div class="row"><span class="label">Stationary Observer:</span><span id="stationary"></span></div>
<div class="row"><span class="label">Moving Observer (v):</span><span id="moving"></span></div>
<div id="info"></div>

<script>
let bib = 0;
const maxDots = 40;

const v = 0.9;     // speed fraction of u
const u = 1.0;     // max processing speed (c)
const s = Math.sqrt(1 - (v/u)**2);
const movingTickInterval = Math.round(1 / s); // bibs per tick for moving observer

const absEl = document.getElementById("abs");
const lightEl = document.getElementById("light");
const stationaryEl = document.getElementById("stationary");
const movingEl = document.getElementById("moving");
const info = document.getElementById("info");

let absDots = "";
let lightDots = "";
let stationaryDots = "";
let movingDots = "";

let stationaryTicks = 0;
let movingTicks = 0;

function tick() {
  bib++;

  // absolute + light tick every bib
  absDots += "● ";
  lightDots += "● ";

  // stationary clock (same as absolute)
  stationaryDots += "● ";
  stationaryTicks++;

  // moving observer (dilated)
  if (bib % movingTickInterval === 0) {
    movingDots += "● ";
    movingTicks++;
  } else {
    movingDots += "○ "; // waiting (processing delay)
  }

  // trim to visible window
  function trim(str) {
    let parts = str.trim().split(" ");
    if (parts.length > maxDots) parts = parts.slice(-maxDots);
    return parts.join(" ");
  }

  absDots = trim(absDots);
  lightDots = trim(lightDots);
  stationaryDots = trim(stationaryDots);
  movingDots = trim(movingDots);

  // update DOM
  absEl.textContent = absDots;
  lightEl.textContent = lightDots;
  stationaryEl.textContent = stationaryDots;
  movingEl.textContent = movingDots;

  info.innerHTML = `
    <b>Bib:</b> ${bib} &nbsp;
    <b>v/u:</b> ${v.toFixed(2)} &nbsp;
    <b>s(v):</b> ${s.toFixed(3)}<br/>
    <b>Moving tick interval:</b> ${movingTickInterval} bibs<br/>
    <span style="color:#0ff">Absolute bibs:</span> ${bib}<br/>
    <span style="color:#ff0">Stationary ticks:</span> ${stationaryTicks}<br/>
    <span style="color:#f80">Moving ticks:</span> ${movingTicks}<br/>
    Ratio (Moving/Stationary): ${(movingTicks / stationaryTicks).toFixed(3)} ≈ s(v)
  `;

  setTimeout(tick, 250);
}

tick();
</script>
</body>
</html>
